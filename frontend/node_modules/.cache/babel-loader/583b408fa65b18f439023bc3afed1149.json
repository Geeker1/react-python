{"ast":null,"code":"import _classCallCheck from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/src/components/CustomersList.js\";\nimport React, { Component } from 'react';\nimport CustomersService from '../actions/index';\nimport { Link } from 'react-router-dom';\nvar customersService = new CustomersService();\n\nvar CustomersList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CustomersList, _Component);\n\n  function CustomersList(props) {\n    var _this;\n\n    _classCallCheck(this, CustomersList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CustomersList).call(this, props));\n    _this.state = {\n      customers: [],\n      nextPageURL: '',\n      previousPageURL: ''\n    };\n    _this.nextPage = _this.nextPage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDelete = _this.handleDelete.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.previousPage = _this.previousPage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.thera = _this.thera.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CustomersList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var self = this;\n      customersService.getCustomers().then(function (result) {\n        console.log(result.next);\n        self.setState({\n          customers: result.results,\n          nextPageURL: result.next\n        });\n      });\n      var check = Array.isArray(self.state.customers);\n      console.log(check);\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(e, pk) {\n      var self = this;\n      customersService.deleteCustomer({\n        pk: pk\n      }).then(function () {\n        var newArr = self.state.customers.filter(function (obj) {\n          return obj.pk !== pk;\n        });\n        self.setState({\n          customers: newArr\n        });\n      });\n    }\n  }, {\n    key: \"previousPage\",\n    value: function previousPage() {\n      var _this2 = this;\n\n      customersService.getCustomersByUrl(this.state.previousPageURL).then(function (result) {\n        _this2.setState({\n          customers: result.results,\n          nextPageURL: result.next,\n          previousPageURL: result.previous\n        });\n      });\n    }\n  }, {\n    key: \"nextPage\",\n    value: function nextPage() {\n      var self = this;\n      customersService.getCustomersByUrl(this.state.nextPageURL).then(function (result) {\n        self.setState({\n          customers: result.results,\n          nextPageURL: result.next,\n          previousPageURL: result.previous\n        });\n      });\n      console.log(this.state.previousPageURL);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var pages = this.state.customers;\n      return React.createElement(\"div\", {\n        className: \"customers--list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        key: \"thead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"First Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Last Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Phone\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Address\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Actions\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, pages.map(function (c) {\n        return React.createElement(\"tr\", {\n          key: c.pk,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, c.pk), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, c.first_name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, c.last_name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, c.phone), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, c.email), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, c.address), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, c.description), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            return _this3.handleDelete(e, c.pk);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, \"Delete\"), React.createElement(\"a\", {\n          href: '/customer/' + c.pk,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, \"Update\")));\n      }))), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.previousPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Next\"), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.nextPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Next\"));\n    }\n  }]);\n\n  return CustomersList;\n}(Component);\n\nexport default CustomersList;","map":{"version":3,"sources":["/home/devcode/Desktop/django-projects/Djang-React/react/frontend/src/components/CustomersList.js"],"names":["React","Component","CustomersService","Link","customersService","CustomersList","props","state","customers","nextPageURL","previousPageURL","nextPage","bind","handleDelete","previousPage","thera","self","getCustomers","then","result","console","log","next","setState","results","check","Array","isArray","e","pk","deleteCustomer","newArr","filter","obj","getCustomersByUrl","previous","pages","map","c","first_name","last_name","phone","email","address","description"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport CustomersService from '../actions/index'\nimport { Link } from 'react-router-dom'\nconst customersService = new CustomersService()\nclass CustomersList extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      customers: [],\n      nextPageURL: '',\n      previousPageURL: ''\n\n    }\n    this.nextPage = this.nextPage.bind(this)\n    this.handleDelete = this.handleDelete.bind(this)\n    this.previousPage = this.previousPage.bind(this)\n    this.thera = this.thera.bind(this)\n  }\n\n  componentDidMount () {\n    var self = this\n    customersService.getCustomers().then(function (result) {\n      console.log(result.next)\n      self.setState({ customers: result.results, nextPageURL: result.next })\n    })\n    const check = Array.isArray(self.state.customers)\n    console.log(check)\n  }\n\n  handleDelete (e, pk) {\n    var self = this\n    customersService.deleteCustomer({ pk: pk }).then(() => {\n      var newArr = self.state.customers.filter(function (obj) {\n        return obj.pk !== pk\n      })\n      self.setState({ customers: newArr })\n    })\n  }\n\n  previousPage () {\n    customersService.getCustomersByUrl(this.state.previousPageURL)\n      .then((result) => {\n        this.setState({\n          customers: result.results,\n          nextPageURL: result.next,\n          previousPageURL: result.previous\n        })\n      })\n  }\n\n  nextPage () {\n    var self = this\n    customersService.getCustomersByUrl(this.state.nextPageURL)\n      .then((result) => {\n        self.setState({\n          customers: result.results,\n          nextPageURL: result.next,\n          previousPageURL: result.previous })\n      })\n\n    console.log(this.state.previousPageURL)\n  }\n\n  render () {\n    const pages = this.state.customers\n    return (\n      <div className='customers--list'>\n        <table className='table'>\n          <thead key='thead'>\n            <tr>\n              <th>#</th>\n              <th>First Name</th>\n              <th>Last Name</th>\n              <th>Phone</th>\n              <th>Email</th>\n              <th>Address</th>\n              <th>Description</th>\n              <th>Actions</th>\n\n            </tr>\n\n          </thead>\n\n          <tbody>\n            {pages.map(c =>\n              <tr key={c.pk}>\n                <td>{c.pk}</td>\n                <td>{c.first_name}</td>\n                <td>{c.last_name}</td>\n                <td>{c.phone}</td>\n                <td>{c.email}</td>\n                <td>{c.address}</td>\n                <td>{c.description}</td>\n                <td>\n                  <button onClick={(e) => this.handleDelete(e, c.pk)}>\n            Delete\n                  </button>\n                  <a href={'/customer/' + c.pk}>Update</a>\n                </td>\n              </tr>\n            )}\n          </tbody>\n\n        </table>\n        <button className='btn btn-primary' onClick={this.previousPage}>\n        Next\n        </button>\n\n        <button className='btn btn-primary' onClick={this.nextPage}>\n        Next\n        </button>\n\n      </div>\n\n    )\n  }\n}\n\nexport default CustomersList\n"]},"metadata":{},"sourceType":"module"}