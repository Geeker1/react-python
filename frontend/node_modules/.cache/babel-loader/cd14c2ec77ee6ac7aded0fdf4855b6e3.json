{"ast":null,"code":"import _objectSpread from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { LOGIN, SIGNUP, CHECK } from '../actions/auth';\nvar initial = {\n  token: localStorage.getItem('token'),\n  isAuthenticated: null,\n  isLoading: true,\n  user: null,\n  errors: {}\n};\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initial;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case USER_LOADING:\n      return _objectSpread({}, state, {\n        isLoading: true\n      });\n\n    case USER_LOADED:\n      return _objectSpread({}, state, {\n        isAuthenticated: true,\n        isLoading: false,\n        user: action.user\n      });\n\n    case LOGIN_SUCCESSFUL:\n      localStorage.setItem('token', action.data.token);\n      return _objectSpread({}, state, action.data, {\n        isAuthenticated: true,\n        isLoading: false,\n        errors: null\n      });\n\n    case LOGIN_FAILED:\n    case LOGOUT_SUCCESFUL:\n      localStorage.removeItem('token');\n      return _objectSpread({}, state, {\n        errors: action.data,\n        token: null,\n        user: null,\n        isAuthenticated: false,\n        isLoading: false\n      });\n\n    case LOGIN:\n      return action.payload.data;\n\n    case CHECK:\n      console.log(action.payload.data);\n      return action.payload.data;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/devcode/Desktop/django-projects/Djang-React/react/frontend/src/reducers/authenticate.js"],"names":["LOGIN","SIGNUP","CHECK","initial","token","localStorage","getItem","isAuthenticated","isLoading","user","errors","state","action","type","USER_LOADING","USER_LOADED","LOGIN_SUCCESSFUL","setItem","data","LOGIN_FAILED","LOGOUT_SUCCESFUL","removeItem","payload","console","log"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,MAAhB,EAAwBC,KAAxB,QAAqC,iBAArC;AACA,IAAMC,OAAO,GAAG;AACdC,EAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADO;AAEdC,EAAAA,eAAe,EAAE,IAFH;AAGdC,EAAAA,SAAS,EAAE,IAHG;AAIdC,EAAAA,IAAI,EAAE,IAJQ;AAKdC,EAAAA,MAAM,EAAE;AALM,CAAhB;AAQA,eAAe,YAAmC;AAAA,MAAzBC,KAAyB,uEAAjBR,OAAiB;AAAA,MAARS,MAAQ;;AAChD,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKC,YAAL;AACC,+BAAYH,KAAZ;AAAmBH,QAAAA,SAAS,EAAE;AAA9B;;AAED,SAAKO,WAAL;AACC,+BAAYJ,KAAZ;AACCJ,QAAAA,eAAe,EAAE,IADlB;AAECC,QAAAA,SAAS,EAAE,KAFZ;AAGCC,QAAAA,IAAI,EAAEG,MAAM,CAACH;AAHd;;AAKD,SAAKO,gBAAL;AACCX,MAAAA,YAAY,CAACY,OAAb,CAAqB,OAArB,EAA8BL,MAAM,CAACM,IAAP,CAAYd,KAA1C;AACA,+BACIO,KADJ,EAEIC,MAAM,CAACM,IAFX;AAGCX,QAAAA,eAAe,EAAE,IAHlB;AAICC,QAAAA,SAAS,EAAE,KAJZ;AAKCE,QAAAA,MAAM,EAAE;AALT;;AAOD,SAAKS,YAAL;AACA,SAAKC,gBAAL;AACCf,MAAAA,YAAY,CAACgB,UAAb,CAAwB,OAAxB;AACA,+BACIV,KADJ;AAECD,QAAAA,MAAM,EAAEE,MAAM,CAACM,IAFhB;AAGCd,QAAAA,KAAK,EAAE,IAHR;AAICK,QAAAA,IAAI,EAAE,IAJP;AAKCF,QAAAA,eAAe,EAAE,KALlB;AAMCC,QAAAA,SAAS,EAAE;AANZ;;AAOD,SAAKR,KAAL;AACC,aAAOY,MAAM,CAACU,OAAP,CAAeJ,IAAtB;;AAEA,SAAKhB,KAAL;AACCqB,MAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAM,CAACU,OAAP,CAAeJ,IAA3B;AACC,aAAON,MAAM,CAACU,OAAP,CAAeJ,IAAtB;;AAEF;AACE,aAAOP,KAAP;AArCJ;AAuCD","sourcesContent":["import { LOGIN, SIGNUP, CHECK } from '../actions/auth'\nconst initial = {\n  token: localStorage.getItem('token'),\n  isAuthenticated: null,\n  isLoading: true,\n  user: null,\n  errors: {}\n}\n\nexport default function (state = initial, action) {\n  switch (action.type) {\n  \tcase USER_LOADING:\n  \t\treturn { ...state, isLoading: true }\n\n  \tcase USER_LOADED:\n  \t\treturn { ...state,\n  \t\t\tisAuthenticated: true,\n  \t\t\tisLoading: false,\n  \t\t\tuser: action.user }\n\n  \tcase LOGIN_SUCCESSFUL:\n  \t\tlocalStorage.setItem('token', action.data.token)\n  \t\treturn {\n  \t\t\t...state,\n  \t\t\t...action.data,\n  \t\t\tisAuthenticated: true,\n  \t\t\tisLoading: false,\n  \t\t\terrors: null }\n\n  \tcase LOGIN_FAILED:\n  \tcase LOGOUT_SUCCESFUL:\n  \t\tlocalStorage.removeItem('token')\n  \t\treturn {\n  \t\t\t...state,\n  \t\t\terrors: action.data,\n  \t\t\ttoken: null,\n  \t\t\tuser: null,\n  \t\t\tisAuthenticated: false,\n  \t\t\tisLoading: false }\n  \tcase LOGIN:\n  \t\treturn action.payload.data\n\n    case CHECK:\n    \tconsole.log(action.payload.data)\n      return action.payload.data\n\n    default:\n      return state\n  }\n}\n"]},"metadata":{},"sourceType":"module"}