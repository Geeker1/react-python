{"ast":null,"code":"import _classCallCheck from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/src/components/CustomersList.js\";\nimport React, { Component } from 'react';\nimport CustomersService from '../actions/index';\nvar customersService = new CustomersService();\n\nvar CustomersList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CustomersList, _Component);\n\n  function CustomersList(props) {\n    var _this;\n\n    _classCallCheck(this, CustomersList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CustomersList).call(this, props));\n    _this.state = {\n      customers: [],\n      nextPageURL: ''\n    };\n    _this.nextPage = _this.nextPage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDelete = _this.handleDelete.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CustomersList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var self = this;\n      customersService.getCustomers().then(function (result) {\n        console.log(result);\n        self.setState({\n          customers: result.data,\n          nextPageURL: result.nextlink\n        });\n        var check = Array.isArray(this.state.customers);\n        console.log(check);\n      });\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(e, pk) {\n      var self = this;\n      customersService.deleteCustomer({\n        pk: pk\n      }).then(function () {\n        var newArr = self.state.customers.filter(function (obj) {\n          return obj.pk !== pk;\n        });\n        self.setState({\n          customers: newArr\n        });\n      });\n    }\n  }, {\n    key: \"nextPage\",\n    value: function nextPage() {\n      var self = this;\n      customersService.getCustomersByUrl(this.state.nextPageURL).then(function (result) {\n        self.setState({\n          customers: result.data,\n          nextPageURL: result.nextlink\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"customers--list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        key: \"thead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"First Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Last Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Phone\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Address\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Actions\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.state.customers.map(function (c) {\n        return React.createElement(\"tr\", {\n          key: c.pk,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, c.pk), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, c.first_name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, c.last_name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, c.phone), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, c.email), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, c.address), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, c.description), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            return _this2.handleDelete(e, c.pk);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \"Delete\"), React.createElement(\"a\", {\n          href: '/customer' + c.pk,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \"Update\")));\n      }))), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.nextPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Next\"));\n    }\n  }]);\n\n  return CustomersList;\n}(Component);\n\nexport default CustomersList;","map":{"version":3,"sources":["/home/devcode/Desktop/django-projects/Djang-React/react/frontend/src/components/CustomersList.js"],"names":["React","Component","CustomersService","customersService","CustomersList","props","state","customers","nextPageURL","nextPage","bind","handleDelete","self","getCustomers","then","result","console","log","setState","data","nextlink","check","Array","isArray","e","pk","deleteCustomer","newArr","filter","obj","getCustomersByUrl","map","c","first_name","last_name","phone","email","address","description"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport CustomersService from '../actions/index'\n\nconst customersService = new CustomersService()\n\nclass CustomersList extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      customers: [],\n      nextPageURL: ''\n    }\n    this.nextPage = this.nextPage.bind(this)\n    this.handleDelete = this.handleDelete.bind(this)\n  }\n\n  componentDidMount () {\n    var self = this\n    customersService.getCustomers().then(function (result) {\n    \tconsole.log(result)\n      self.setState({ customers: result.data, nextPageURL: result.nextlink })\n      const check = Array.isArray(this.state.customers)\n      console.log(check)\n    })\n  }\n\n  handleDelete (e, pk) {\n    var self = this\n    customersService.deleteCustomer({ pk: pk }).then(() => {\n      var newArr = self.state.customers.filter(function (obj) {\n        return obj.pk !== pk\n      })\n      self.setState({ customers: newArr })\n    })\n  }\n\n  nextPage () {\n    var self = this\n    customersService.getCustomersByUrl(this.state.nextPageURL)\n      .then((result) => {\n        self.setState({ customers: result.data, nextPageURL: result.nextlink })\n      })\n  }\n\n  render () {\n    return (\n      <div className='customers--list'>\n        <table className='table'>\n          <thead key='thead'>\n            <tr>\n              <th>#</th>\n              <th>First Name</th>\n              <th>Last Name</th>\n              <th>Phone</th>\n              <th>Email</th>\n              <th>Address</th>\n              <th>Description</th>\n              <th>Actions</th>\n\n            </tr>\n\n          </thead>\n\n          <tbody>\n            {this.state.customers.map(c =>\n              <tr key={c.pk}>\n                <td>{c.pk}</td>\n                <td>{c.first_name}</td>\n                <td>{c.last_name}</td>\n                <td>{c.phone}</td>\n                <td>{c.email}</td>\n                <td>{c.address}</td>\n                <td>{c.description}</td>\n                <td>\n                  <button onClick={(e) => this.handleDelete(e, c.pk)}>\n\t\t\t\t\t\tDelete\n                  </button>\n                  <a href={'/customer' + c.pk}>Update</a>\n                </td>\n              </tr>\n            )}\n          </tbody>\n\n        </table>\n\n        <button className='btn btn-primary' onClick={this.nextPage}>\n\t\t\t\tNext\n        </button>\n\n      </div>\n\n    )\n  }\n}\n\nexport default CustomersList\n"]},"metadata":{},"sourceType":"module"}