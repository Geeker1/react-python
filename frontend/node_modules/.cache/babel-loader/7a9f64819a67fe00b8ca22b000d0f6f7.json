{"ast":null,"code":"import _regeneratorRuntime from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nexport var FETCH_POSTS = 'fetch_posts';\nexport var CREATE_POST = 'create_posts';\nexport var FETCH_POST = 'fetchpost';\nexport var DELETE_POST = 'deletePost';\nexport var FETCH_POST_UPDATE = 'fetchpostupdate';\nexport var UPDATE = 'update';\nvar API_URL = 'http://localhost:8000'; // export function fetchposts (link) {\n//   let request = axios.get(`${API_URL}/api/posts`)\n//   if (link) {\n//     request = axios.get(`${link}`)\n//   } else {\n//     request = axios.get(`${API_URL}/api/posts`)\n//   }\n//   return {\n//     type: FETCH_POSTS,\n//     payload: request\n//   }\n// }\n\nexport function fetchposts(link) {\n  var request = axios.get(\"\".concat(API_URL, \"/api/posts\"));\n\n  if (link) {\n    request = axios.get(\"\".concat(link));\n  } else {\n    request = axios.get(\"\".concat(API_URL, \"/api/posts\"));\n  }\n\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch, getState) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                request.then(function (response) {\n                  dispatch({\n                    type: FETCH_POSTS,\n                    payload: response\n                  });\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n}\nexport function createpost(values, callback) {\n  var request = axios.post(\"\".concat(API_URL, \"/api/posts\"), values).then(function () {\n    return callback();\n  }).catch(function (error) {\n    console.log(error.response.data);\n  });\n  return {\n    type: CREATE_POST,\n    payload: request\n  };\n}\nexport function fetchpost(pk) {\n  var request = axios.get(\"\".concat(API_URL, \"/api/posts/\").concat(pk));\n  return {\n    type: FETCH_POST,\n    payload: request\n  };\n}\nexport function deletePost(pk, callback) {\n  var request = axios.delete(\"\".concat(API_URL, \"/api/posts/\").concat(pk)).then(function () {\n    return callback();\n  });\n  return {\n    type: DELETE_POST,\n    payload: pk // we dont need the whole post since we are deleting\n\n  };\n}\nexport function fetchupdate(pk) {\n  var request = axios.get(\"\".concat(API_URL, \"/api/posts/\").concat(pk));\n  return {\n    type: FETCH_POST_UPDATE,\n    payload: request // we dont need the whole post since we are updating\n\n  };\n}\nexport function update(pk, values, callback) {\n  var request = axios.put(\"\".concat(API_URL, \"/api/posts/\").concat(pk), values).then(function () {\n    return callback();\n  });\n  return {\n    type: UPDATE,\n    payload: request\n  };\n} // pass a reducer case to actually remove the actual\n// post from the application state cause the fetch posts removes it\n// but it is good to update the local state as well","map":{"version":3,"sources":["/home/devcode/Desktop/django-projects/Djang-React/react/frontend/src/actions/notes.js"],"names":["axios","FETCH_POSTS","CREATE_POST","FETCH_POST","DELETE_POST","FETCH_POST_UPDATE","UPDATE","API_URL","fetchposts","link","request","get","dispatch","getState","then","response","type","payload","createpost","values","callback","post","catch","error","console","log","data","fetchpost","pk","deletePost","delete","fetchupdate","update","put"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nexport const FETCH_POSTS = 'fetch_posts'\nexport const CREATE_POST = 'create_posts'\nexport const FETCH_POST = 'fetchpost'\nexport const DELETE_POST = 'deletePost'\nexport const FETCH_POST_UPDATE = 'fetchpostupdate'\nexport const UPDATE = 'update'\n\nconst API_URL = 'http://localhost:8000'\n\n// export function fetchposts (link) {\n//   let request = axios.get(`${API_URL}/api/posts`)\n//   if (link) {\n//     request = axios.get(`${link}`)\n//   } else {\n//     request = axios.get(`${API_URL}/api/posts`)\n//   }\n//   return {\n//     type: FETCH_POSTS,\n//     payload: request\n//   }\n// }\n\nexport function fetchposts (link) {\n  let request = axios.get(`${API_URL}/api/posts`)\n  if (link) {\n    request = axios.get(`${link}`)\n  } else {\n    request = axios.get(`${API_URL}/api/posts`)\n  }\n  return async (dispatch, getState) => {\n    request.then((response) => {\n      dispatch({ type: FETCH_POSTS, payload: response })\n    })\n  }\n}\n\nexport function createpost (values, callback) {\n  const request = axios.post(`${API_URL}/api/posts`, values)\n    .then(() => callback())\n    .catch((error) => { console.log(error.response.data) })\n\n  return {\n    type: CREATE_POST,\n    payload: request\n  }\n}\n\nexport function fetchpost (pk) {\n  const request = axios.get(`${API_URL}/api/posts/${pk}`)\n\n  return {\n    type: FETCH_POST,\n    payload: request\n  }\n}\n\nexport function deletePost (pk, callback) {\n  const request = axios.delete(`${API_URL}/api/posts/${pk}`)\n    .then(() => callback())\n\n  return {\n    type: DELETE_POST,\n    payload: pk// we dont need the whole post since we are deleting\n  }\n}\n\nexport function fetchupdate (pk) {\n  const request = axios.get(`${API_URL}/api/posts/${pk}`)\n  return {\n    type: FETCH_POST_UPDATE,\n    payload: request// we dont need the whole post since we are updating\n  }\n}\n\nexport function update (pk, values, callback) {\n  const request = axios.put(`${API_URL}/api/posts/${pk}`, values)\n    .then(() => callback())\n  return {\n    type: UPDATE,\n    payload: request\n  }\n}\n// pass a reducer case to actually remove the actual\n// post from the application state cause the fetch posts removes it\n// but it is good to update the local state as well\n"]},"metadata":{},"sourceType":"module"}