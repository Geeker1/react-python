{"ast":null,"code":"import _classCallCheck from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/devcode/Desktop/django-projects/Djang-React/react/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport './App.css';\nimport './bootstrap.min.css';\nimport { createStore, applyMiddleware } from 'redux';\nimport reducers from './reducers';\nimport { Provider, connect } from 'react-redux';\nimport promise from 'redux-promise';\nimport BaseLayout from './components/BaseLayout';\nvar store = applyMiddleware(promise)(createStore);\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      logged_in: !!localStorage.getItem('token'),\n      username: ''\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(this.state);\n      console.log(this.props);\n\n      if (this.state.logged_in) {\n        fetch('http://localhost:8000/api/current_user', {\n          headers: {\n            Authorization: \"JWT $(localStorage.getItem('token'))\"\n          }\n        }).then(function (res) {\n          return res.json();\n        }).then(function (json) {\n          _this2.setState({\n            username: json.username\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(BaseLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nfunction mapStateToProps(_ref) {\n  var authx = _ref.authx;\n  return {\n    auth: authx\n  };\n}\n\nexport default connect(mapStateToProps)(App);","map":{"version":3,"sources":["/home/devcode/Desktop/django-projects/Djang-React/react/frontend/src/App.js"],"names":["React","Component","BrowserRouter","createStore","applyMiddleware","reducers","Provider","connect","promise","BaseLayout","store","App","props","state","logged_in","localStorage","getItem","username","console","log","fetch","headers","Authorization","then","res","json","setState","mapStateToProps","authx","auth"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,OAAO,WAAP;AACA,OAAO,qBAAP;AACA,SAASC,WAAT,EAAsBC,eAAtB,QAA6C,OAA7C;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,QAAT,EAAmBC,OAAnB,QAAkC,aAAlC;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AAEA,IAAMC,KAAK,GAAGN,eAAe,CAACI,OAAD,CAAf,CAAyBL,WAAzB,CAAd;;IAEMQ,G;;;;;AACJ,eAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAClB,6EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,CAAC,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADF;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAFkB;AAMnB;;;;wCAEoB;AAAA;;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAjB;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;;AACA,UAAI,KAAKC,KAAL,CAAWC,SAAf,EAA0B;AACxBM,QAAAA,KAAK,CAAC,wCAAD,EAA2C;AAC9CC,UAAAA,OAAO,EAAE;AACPC,YAAAA,aAAa;AADN;AADqC,SAA3C,CAAL,CAKGC,IALH,CAKQ,UAAAC,GAAG;AAAA,iBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,SALX,EAMGF,IANH,CAMQ,UAAAE,IAAI,EAAI;AACZ,UAAA,MAAI,CAACC,QAAL,CAAc;AAAET,YAAAA,QAAQ,EAAEQ,IAAI,CAACR;AAAjB,WAAd;AACD,SARH;AASD;AACF;;;6BAES;AACR,aACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKD;;;;EA/BehB,S;;AAkClB,SAAS0B,eAAT,OAAqC;AAAA,MAATC,KAAS,QAATA,KAAS;AACnC,SAAO;AAAEC,IAAAA,IAAI,EAAED;AAAR,GAAP;AACD;;AAED,eAAerB,OAAO,CAACoB,eAAD,CAAP,CAAyBhB,GAAzB,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { BrowserRouter } from 'react-router-dom'\nimport './App.css'\nimport './bootstrap.min.css'\nimport { createStore, applyMiddleware } from 'redux'\nimport reducers from './reducers'\nimport { Provider, connect } from 'react-redux'\nimport promise from 'redux-promise'\nimport BaseLayout from './components/BaseLayout'\n\nconst store = applyMiddleware(promise)(createStore)\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      logged_in: !!localStorage.getItem('token'),\n      username: ''\n    }\n  }\n\n  componentDidMount () {\n    console.log(this.state)\n    console.log(this.props)\n    if (this.state.logged_in) {\n      fetch('http://localhost:8000/api/current_user', {\n        headers: {\n          Authorization: `JWT $(localStorage.getItem('token'))`\n        }\n      })\n        .then(res => res.json())\n        .then(json => {\n          this.setState({ username: json.username })\n        })\n    }\n  }\n\n  render () {\n    return (\n      <BrowserRouter>\n        <BaseLayout />\n      </BrowserRouter>\n    )\n  }\n}\n\nfunction mapStateToProps ({ authx }) {\n  return { auth: authx }\n}\n\nexport default connect(mapStateToProps)(App)\n"]},"metadata":{},"sourceType":"module"}